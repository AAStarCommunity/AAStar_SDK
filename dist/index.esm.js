import e from"axios";const t="/api/healthz",a="/api/auth",r="/api/v1/get-support-entrypoint",i="/api/v1/get-support-strategy",o="/api/v1/try-pay-user-operation";function s(t=!0){e.defaults.baseURL=t?"https://EthPaymaster.org":"https://relay-ethpaymaster-pr-20.onrender.com",e.interceptors.response.use((function(e){return e?.data||e}),(function(e){return Promise.reject(e)}))}const n=()=>e.get(t),p=t=>e.post(a,{apiKey:t}).then((t=>{t?.data?.token&&t?.data?.expire&&(e.defaults.headers.common.Authorization="Bearer "+t?.data?.token)})),u=(t="Network")=>e.get(r,{params:{network:t}}),c=(t="ethereum")=>e.get(i,{params:{network:t}}),m=t=>e.post(o,{force_strategy_id:t.forceStrategyId,user_operation:{call_data:t.userOperation.callData,call_gas_limit:t.userOperation.callGasLimit,max_priority_fee_per_gas:t.userOperation.maxPriorityFeePerGas,nonce:t.userOperation.nonce,pre_verification_gas:t.userOperation.preVerificationGas,sender:t.userOperation.sender,signature:t.userOperation.signature,verification_gas_limit:t.userOperation.verificationGasLimit,paymaster_and_data:t.userOperation.paymasterAndData}});export{p as auth,u as getSupportEntryPointV1,c as getSupportStrategyV1,n as health,s as init,m as tryPayUserOperationV1};
